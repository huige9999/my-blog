---
title: NestJS 教程 02：三层架构与 MVC 的落地
date: 2026-02-19
description: 讲清三层架构与 MVC 的区别，以及在 NestJS 中如何结合。
---

# NestJS 教程 02：三层架构与 MVC 的落地

> 系列说明：本文是 NestJS 教程第 2 篇，重点是建立架构认知，避免后续模块设计混乱。

## 1. 三层架构是什么

三层架构（Three-Tier Architecture）通常把后端系统拆成：

- 表示层（UI 层）
- 业务逻辑层（BLL）
- 数据访问层（DAL）

它的核心目标是高内聚、低耦合，让系统更容易维护和扩展。

### 调用关系

```text
[ 用户 / 客户端 ]
      │
      ▼
+-------------------------+
|   表示层 (UI / Web层)   |
+-------------------------+
      │    ▲
      ▼    │
+-------------------------+
|  业务逻辑层 (BLL)       |
+-------------------------+
      │    ▲
      ▼    │
+-------------------------+
| 数据访问层 (DAL)        |
+-------------------------+
      │
      ▼
[ 数据库 ]
```

### Entity 的位置

`Entity` 不属于三层中的某一层，但会作为各层之间的数据载体。实际项目里还会配合 DTO、VO 等对象处理不同场景。

## 2. MVC 是什么

MVC 把应用组织为：

- `Model`：数据与业务逻辑
- `View`：展示层
- `Controller`：接收请求、调度流程

标准流转：

```text
HTTP 请求 -> Controller -> Model -> View -> 响应
```

在前后端分离项目中，View 常由前端框架（Vue/React）承担；后端主要负责 Controller + 业务模型。

## 3. 三层架构与 MVC 的区别

| 维度 | 三层架构 | MVC |
| :--- | :--- | :--- |
| 关注点 | 系统级分层与职责边界 | 请求处理与展示分离 |
| 常见位置 | 后端整体架构 | Web 交互入口层 |
| 目标 | 解耦业务与数据访问 | 解耦控制流程与展示 |

## 4. 在 NestJS 中如何结合

NestJS 常见落地可以理解为：

- `Controller`：接收请求、参数校验，贴近 MVC 的 C，也承担三层里的表示层职责
- `Service`：承载核心业务规则，对应 BLL
- `Repository/DAO`：读写数据库，对应 DAL

```text
客户端 -> Controller -> Service -> Repository -> Database
```

这种组织方式的价值：

1. 控制器精简，只做路由和编排
2. 业务逻辑沉淀在 Service，便于复用与测试
3. 数据访问集中在 Repository，替换存储方案时影响面更小

## 5. 实战建议

- 先按三层职责拆目录，再用 MVC 的请求流转去约束代码边界
- 不要把业务规则写进 Controller
- 不要让 Repository 知道 HTTP 细节
- 优先用 DTO 做输入输出边界，避免 Entity 被直接暴露

## 小结

三层架构解决“系统如何分层”，MVC 解决“请求如何流转”，两者在 NestJS 中并不冲突，而是互补。

下一篇：`NestJS 教程 03` 继续讲 IoC/DI 以及 Providers 的几种注入策略。
